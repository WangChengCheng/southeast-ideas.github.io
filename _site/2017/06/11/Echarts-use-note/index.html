<!DOCTYPE html>
<html>

  <head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Echarts使用笔记 - southeast-ideas</title>

	<link rel="shortcut icon" href="/styles/images/favicon.jpg">
	<link rel="icon" href="/styles/images/favicon.jpg">

	<link rel="stylesheet" href="/styles/css/index.css">
	<link rel="stylesheet" href="/styles/css/fontawesome/css/font-awesome.min.css">
	<link rel="stylesheet" href="/styles/css/syntax.css">
	<link rel="canonical" href="/2017/06/11/Echarts-use-note/">
	<link rel="alternate" type="application/rss+xml" title="southeast-ideas" href="/feed.xml">
	
	<meta name="keywords" content="Echarts使用笔记, southeast-ideas, 东南思想">
	<meta name="description" content="东南思想">

	<script src="/styles/js/jquery.min.js"></script>
	<!--[if lt IE 9]>
    	<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  	<![endif]-->
  	<script>
		var _hmt = _hmt || [];
		(function() {
		  var hm = document.createElement("script");
		  hm.src = "//hm.baidu.com/hm.js?";
		  var s = document.getElementsByTagName("script")[0]; 
		  s.parentNode.insertBefore(hm, s);
		})();
	</script>
  	<style type="text/css">
	  	.docs-content{
	  		margin-bottom: 10px;
	  	}
  	</style>
</head>

  <body class="index">

    <header class="navbar navbar-inverse navbar-fixed-top docs-nav" role="banner">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="/" class="navbar-brand">
        <img src="/styles/images/logo_1.png">
      </a>
    </div>
    <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
      <ul class="nav navbar-nav">    
        <li>
          <a href="/">Home</a>
        </li>
        <li>
          <a href="/categories/">大类分解</a>
        </li>
        <li>
          <a href="/tag">小类内聚</a>
        </li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
            <a><span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span></a>
        </li>
        <li>
          <a href="/donate/"><strong>打赏</strong></a>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">关于<b class="caret"></b></a>
          <ul class="dropdown-menu">
            <li><a rel="nofollow" target="_blank" href="https://github.com/WangChengCheng/">Github</a></li>
            <li><a rel="nofollow" target="_blank" href="">关于作者</a></li>
<!--             <li><a rel="nofollow" href="/books">我的书单</a></li>
            <li><a rel="nofollow" href="/reference">推荐博客</a></li> -->
            <li><a href="/feed.xml">RSS订阅</a></li>
<!--             <li class="divider"></li>
            <li><a rel="nofollow" target="_blank" href="https://github.com/luoyan35714/LessOrMore.git">本项目</a></li> -->
          </ul>
        </li>
      </ul>
    </nav>
  </div>
</header>
    <div class="docs-header" id="content">
  <div class="container">
  	
  		<!--
		    <h1>Echarts使用笔记</h1>
		    <p>Post on Jun 11, 2017 by <a href="/about">Michael Wang</a></p>
		-->
		    <h1>每个人总以为自己是世界的中心。</h1>
    
  </div>
</div>
    
      
<div class="banner">
  <div class="container">
  	
    	<a href="/categories/#建站-ref">建站</a>	/
    	<a href="/tag/#教程 Eharts-ref">教程 Eharts</a>
    
  </div>
</div>

    

    <div class="container docs-container">
  <div class="row">
    <div class="col-md-3">
      <div class="sidebar hidden-print" role="complementary">
        <div id="navigation">
  <h1>目录</h1>
  <ul class="nav sidenav">
<!--
    
      
      
      
      

      
        <li><a href="#year_2017">2017</a>
          <ul class="nav">
            <li><a href="#month_2017_September">September</a></li>
      

      
            
          
              <li><a href="#month_2017_June">June</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2017_May">May</a></li>
          
        
      
    
      
      
      
      

      

      
        
            </ul>
          </li>
          <li><a href="#year_2016">2016</a>
            <ul class="nav">
              <li><a href="#month_2016_August">August</a></li>
        
      
    
      
      
      
      

      

      
        
            </ul>
          </li>
          <li><a href="#year_2014">2014</a>
            <ul class="nav">
              <li><a href="#month_2014_December">December</a></li>
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2014_November">November</a></li>
          
        
      
    
      
      
      
      

      

      
            </ul>
          </li>
      
    
-->
  </ul>
</div> 
      </div>
    </div>
    <div class="col-md-9" role="main">
      <div class="panel docs-content">
        <div class="wrapper">
            <header class="post-header">
              <h1 class="post-title">Echarts使用笔记</h1>
              <!--
                <p class="post-meta">Jun 11, 2017 • Michael Wang</p>
              -->
              <div class="meta">Posted on <span class="postdate">Jun 11, 2017</span> By <a target="_blank" href="http://localhost:4000">Michael Wang</a></div>
              <br />
            </header>
            <article class="post-content">
              <ul id="markdown-toc">
  <li><a href="#x轴项目名称处理" id="markdown-toc-x轴项目名称处理">x轴项目名称处理</a></li>
  <li><a href="#配置多个series" id="markdown-toc-配置多个series">配置多个series</a></li>
</ul>

<h3 id="x轴项目名称处理">x轴项目名称处理</h3>
<p>x轴每项的名称过长时，可以通过倾斜项目名称，且项目名称可以通过部分名称取代全程时，可以在xAxis-axisLabel-formatter中进行格式的设置。</p>

<pre><code>
	option = {
	    title : {
	        text: '',
	        top : 'bottom',
	        left : 'center',
	        textStyle: {
	        color: '#333',
	        fontStyle: 'normal',
	        fontWeight: 'lighter',
	        fontFamily: 'sans-serif',
	        fontSize: 15,
	        },
	    },
	    tooltip : {
	        trigger: 'axis',
	        axisPointer: {
	            type: 'shadow'
	        }       
	    },
	    xAxis : [
	        {
	            axisLabel: {
	                rotate: 315,//倾斜角度
	                formatter: function(value){//对显示的内容进行设置
	                    var val;
	                    val = value.substring(0,4);
	                    return val;
	                }
	            },
	            type : 'category',
	            data : [],
	            axisTick: {
	                alignWithLabel: true
	            }
	        }
	    ],
	    yAxis : [
	        {
	            type : 'value'
	        }
	    ],
	    series : [
	        {
	            label: {
			                normal: {
			                    show: true,
			                    position: 'top',
			                    formatter: function(obj){
			                        return obj.value.toFixed(2);
			                    },
			                },
			            },
	            name:'直接访问',
	            type:'bar',
	            barWidth: '60%',
	            data:[]
	        }
	    ]
	};
</code></pre>
<h3 id="配置多个series">配置多个series</h3>
<p>当需要设置多个series时（比如折线图中有多条不同的曲线，每条曲线为一个series），可以先设置变量<code>var series = [];</code>，从后台取得数据后，对每个series进行赋值、设置；对于<code>legend</code>同理。</p>

<pre><code>
	var myChart = echarts.init(document.getElementById('echarts_id'));
	var series=[];
	var option = {
		//其他配置项...
		series: series,
		xAxis:
		//其他配置项...
	}
	myChart.setOption(option);
	//ajax 异步加载配置数据项  
	function loadOption(item, unit, time)  
	{
	    $.ajax({  
	        url: '',
	        type: 'get',
	        dataType: 'json',
	        async: false,
	        success: function (dataMap) {  
	            if (dataMap)  
	            {  
	                if (dataMap.seriesData == null) {  
	                    series = [];
						option.xAxis[0].data = [];//xAxis配置项为数组时，即xAxis后是中括号[]，若为{}，则应该写成option.xAxis.data = [];
	                }  
	                else {                 	
	                	for(var i = 0;i &lt; dataMap.seriesName.length;i++){
					       series.push({
					            name: dataMap.seriesName[i],
					            type: 'line',
					            smooth: true,
					            data: dataMap.seriesData[i]
					        });
					    } 
	                } 
	                myChart.hideLoading();
	                myChart.setOption(option,true);  
	                series=[];//将series变量置空，否则之后的结果会在之前的结果集合上累加
	            }  
	        },  
	        error: function ()  
	        {  
	            alert("请求失败!");  
	        }  
	    })  
	}

</code></pre>

            </article>
        </div>
      </div>
      <div class="panel docs-content">
        <article class="post-content">
          <div class="wrapper">
            


  <!--PC版-->
<div id="SOHUCS" sid="170611115300"></div>
<script charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/changyan.js" ></script>
<script type="text/javascript">
window.changyan.api.config({
appid: 'cyt1Fdc3X',
conf: 'prod_7d73f25a3e856407cc2ef91df042d8f9'
});
</script>


 
          </div>
        </article>
      </div>
    </div>
  </div>
</div>

    
    <footer class="footer" role="contentinfo">
	<div class="container">
		<p class="copyright">Copyright &copy; 2014-2017 <a href="mailto:wangcc0106@gmail.com"><code>Michael Wang</code></a>.</p>
		<p>Powered by <a href="http://jekyllrb.com">Jekyll</a>, theme from <a href="http://lesscss.cn/">Less</a>, refactored by <a href="http://www.hifreud.com/">Freud Kang</p>
	</div>
</footer>

<script src="/styles/js/jquery.min.js"></script>
<script src="/styles/js/bootstrap.min.js"></script>
<script src="/styles/js/holder.min.js"></script>
<script src="/styles/js/lessismore.js"></script>
<script src="/styles/js/application.js"></script>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  </body>
</html>
